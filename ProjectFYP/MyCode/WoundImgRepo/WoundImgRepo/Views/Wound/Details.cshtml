@model WoundRecord
<style>
    .box {
        margin: 0px 0px 10px 0px;
        padding: 0px 10px 10px 10px;
    }

    div > p {
        display: inline-block;
        margin-right: 10px;
        margin-bottom: 10px;
        font-weight: bold;
    }

    button {
        margin-top: 10px;
    }
</style>

@if (TempData["Msg"] != null)
{
    <div class="alert alert-@TempData["MsgType"]">
        @TempData["Msg"]
    </div>
}
<h2 class="mt-4 mb-4">Wound Record</h2>
<div class="row">
    <div class="col-xs-6 col-sm-4">
        <h6>Wound</h6>
    </div>
    <div class="col-xs-6 col-sm-4">
        <h6>Annotations</h6>
    </div>
    <div class="col-xs-6 col-sm-4">
        <h6>Masks</h6>
    </div>
    @{ int woundImgCount = 0; }
    @foreach (AnnotationMaskImage ai in Model.annotationMaskImage)
    {
        woundImgCount += 1;
        @if (woundImgCount == 1)
        {
            <div class="col-xs-6 col-sm-4 box">
                <div class="border">
                    <img src="/photos/@Model.imagefile" class="img-fluid" alt="Responsive image" />
                </div>
            </div>
        }
        else
        {
            <div class="col-xs-6 col-sm-4 box"></div>
        }
        <div class="col-xs-6 col-sm-4 box">
            <div class="border">
                <img src="~/photos/@ai.annotationimagefile" class="img-fluid" alt="Responsive image" />
            </div>
        </div>
        <div class="col-xs-6 col-sm-4 box">
            <div class="border">
                <img src="~/photos/@ai.maskimagefile" class="img-fluid" alt="Responsive image" />
            </div>
        </div>
        <hr />
    }
    <div class="modal fade" id="annotationMaskModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h6 class="modal-title" id="exampleModalLabel">Upload File</h6>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <form asp-controller="Wound" asp-action="UpdateAnnotationMaskImage" method="post" enctype="multipart/form-data">
                        <input type="hidden" asp-for="woundid" />
                        <div class="form-group row">
                            <label class="col-sm-4" asp-for="annotationimage">Annotation Image:</label>
                            <div class="col-sm-6">
                                <input type="file" asp-for="annotationimage">
                            </div>
                        </div>
                        <div class="form-group row">
                            <label class="col-sm-4" asp-for="maskimage">Mask Image:</label>
                            <div class="col-sm-6">
                                <input type="file" asp-for="maskimage">
                            </div>
                        </div>
                        <div class="form-group row">
                            <div class="offset-sm-4 col-sm-6">
                                <input class="btn btn-primary" type="submit" value="Upload">
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <div class="col-xs-12 col-sm-12 mt-4">
        <div><p>Wound Name:</p><span>@Model.woundname</span></div>
        <div><p>Wound Stage:</p><span>@Model.woundstage</span></div>
        <div><p>Remarks:</p><span>@Model.woundremarks</span></div>
        <div><p>Wound Category:</p><span>@Model.woundcategoryname</span></div>
        <div><p>Wound Location:</p><span>@Model.woundlocationname</span></div>
        <div><p>Tissue:</p><span>@Model.tissuename</span></div>
        <div><p>Version:</p><span>@Model.versionname</span></div>
        <a asp-controller="Wound"
           asp-action="Update"
           asp-route-id="@Model.woundid">
            Edit
        </a> |
        <a asp-controller="Wound"
           asp-action="Delete"
           asp-route-id="@Model.imageid"
           onclick="return confirm('Delete Wound [Model.woundname]')">
            Delete
        </a>
        <div>
            <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#annotationMaskModal">
                Upload
            </button>
        </div>
    </div>
</div>




